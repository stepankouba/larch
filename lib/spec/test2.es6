import transform from '../transform.es6';

const source = [[0,0,0],[0,1,0],[0,2,0],[0,3,0],[0,4,0],[0,5,0],[0,6,0],[0,7,0],[0,8,0],[0,9,2],[0,10,0],[0,11,0],[0,12,0],[0,13,0],[0,14,0],[0,15,0],[0,16,3],[0,17,0],[0,18,0],[0,19,0],[0,20,0],[0,21,0],[0,22,5],[0,23,2],[1,0,0],[1,1,0],[1,2,0],[1,3,0],[1,4,0],[1,5,0],[1,6,0],[1,7,0],[1,8,3],[1,9,5],[1,10,8],[1,11,3],[1,12,3],[1,13,0],[1,14,0],[1,15,7],[1,16,4],[1,17,4],[1,18,0],[1,19,0],[1,20,0],[1,21,1],[1,22,0],[1,23,6],[2,0,0],[2,1,0],[2,2,0],[2,3,0],[2,4,0],[2,5,0],[2,6,0],[2,7,0],[2,8,0],[2,9,1],[2,10,29],[2,11,22],[2,12,3],[2,13,0],[2,14,4],[2,15,1],[2,16,4],[2,17,1],[2,18,0],[2,19,0],[2,20,0],[2,21,0],[2,22,1],[2,23,0],[3,0,0],[3,1,0],[3,2,0],[3,3,0],[3,4,0],[3,5,0],[3,6,0],[3,7,0],[3,8,0],[3,9,1],[3,10,6],[3,11,0],[3,12,2],[3,13,5],[3,14,2],[3,15,4],[3,16,8],[3,17,5],[3,18,1],[3,19,0],[3,20,0],[3,21,2],[3,22,0],[3,23,0],[4,0,0],[4,1,0],[4,2,0],[4,3,0],[4,4,0],[4,5,0],[4,6,0],[4,7,0],[4,8,0],[4,9,10],[4,10,8],[4,11,0],[4,12,7],[4,13,1],[4,14,0],[4,15,10],[4,16,5],[4,17,0],[4,18,4],[4,19,5],[4,20,1],[4,21,0],[4,22,5],[4,23,0],[5,0,0],[5,1,0],[5,2,0],[5,3,0],[5,4,0],[5,5,0],[5,6,0],[5,7,0],[5,8,5],[5,9,3],[5,10,2],[5,11,9],[5,12,3],[5,13,4],[5,14,6],[5,15,3],[5,16,1],[5,17,0],[5,18,0],[5,19,0],[5,20,0],[5,21,2],[5,22,0],[5,23,0],[6,0,0],[6,1,0],[6,2,0],[6,3,0],[6,4,0],[6,5,0],[6,6,0],[6,7,0],[6,8,0],[6,9,0],[6,10,0],[6,11,2],[6,12,0],[6,13,0],[6,14,1],[6,15,3],[6,16,0],[6,17,15],[6,18,0],[6,19,0],[6,20,3],[6,21,1],[6,22,0],[6,23,0]];

const template = [
	{
		key: 'Sunday',
		values: ['$..[?(@[0] == 0)]', {
			x: '$.[1](*hour)',
			y: '$.[0]',
			value: '$.[2](*value)',
			shape: 'circle'
		}]
	},
	{
		key: 'Monday',
		values: ['$..[?(@[0] == 1)]', {
			x: '$.[1](*hour)',
			y: '$.[0]',
			value: '$.[2](*value)',
			shape: 'circle'
		}]
	},
	{
		key: 'Tuesday',
		values: ['$..[?(@[0] == 2)]', {
			x: '$.[1](*hour)',
			y: '$.[0]',
			value: '$.[2](*value)',
			shape: 'circle'
		}]
	}

];

console.log(JSON.stringify(transform(source, template, {
	hours: ['12a', '1a', '2a', '3a', '4a', '5a', '6a', '7a', '8a', '9a', '10a', '11a', '12p', '1p', '2p', '3p', '4p', '5p', '6p', '7p', '8p', '9p', '11p'],
	value([value]) {
		return [Math.round(value / 250 * 100)];
	},
	hour([value]) {
		return [this.hours[value]];
	}
}), null, 4));
